---
title: "weathr"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{my_vignette}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  fig.width = 7,
  fig.height = 5,
  fig.align = "center",
  message = FALSE,
  collapse = TRUE,
  comment = "#>"
)

library(weathR)
library(ggplot2)
```
  
##INTRODUCTION
The weathR package is designed for analysing and visualising seasonal climate
data. It provides tools for loading datasets, computing summary statistics,
and creating animated visualisations of climate trends. this package provides 
key functions for: 

1: Loading weather datasets

2: Computing summary statistics

3:creating visualisations of weather trends

##INSTALLATION
Once in R you can type at the R command below to install weathR
# install.packages("pak")
pak::pak("seancarrolll/weathR")

#Loading the Dataset
The weathR package comes with a built-in dataset: the Dublin Airport Climate
Averages (1981–2010). To load this dataset, use the load_dublinairport() function:

```{r}
#Load the Dublin Airport climate dataset
climate_data <- dublin_airport

#Display the first few rows
head(climate_data)
```

#Summarising Data
The summarise.dublinairport() function computes summary statistics for numeric columns in the Dublin Airport dataset. You can filter rows based on a column and value, specify a custom summary function, and optionally include a correlation matrix of numeric variables
```{r}
#Generate summary statistics
result <- summarise.dublinairport(dublin_airport)
print(result)

result_with_correlation <- summarise.dublinairport(dublin_airport, correlation = TRUE)
print(result_with_correlation)

filter_rainfall <- summarise.dublinairport(dublin_airport, filter_var = "Mean Rainfall", filter_value = 60)
print(filter_rainfall)

result_quantiles <- summarise.dublinairport(dublin_airport,
                                             summary_func = quantile,
                                             probs = c(0.25, 0.5, 0.75))

print(result_quantiles)
```

#Creating Visualisations
Static Visualisation
You can create static plots of climate data trends using ggplot2. For example,
a line plot of monthly average temperatures can be created like this:
 
library(ggplot2)
```{r}
ggplot(climate_data, aes(x = Month, y = Temperature, group = 1)) +
  geom_line(color = "blue", size = 1) +
  geom_point(color = "red", size = 2) +
  labs(
    title = "Monthly Average Temperatures at Dublin Airport",
    x = "Month",
    y = "Temperature (°C)"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))
```

#Animated Visualisation
The plot_summarise() function generates an animated visualization of seasonal
climate trends using gganimate and ggplot2:
```{r}
#Create an animated plot
plot_summarise(climate_data)
```

#Example Workflow
Here is a complete workflow demonstrating how to load, summarize, and visualize 
climate data using weathR:
```{r}
#Load dataset
climate_data <- dublin_airport

#Generate summary
summary_table <- summarise.dublinairport(climate_data)
print(summary_table)

# plot_summarise(climate_data)

```

#Model Fitting and Custom Analysis
In addition to the default functions, you can extend your analysis by applying 
custom models or filters to the data. For instance, you can focus on a specific
season or use advanced visualisation options:
```{r}
#Filter summer months
summer_data <- climate_data[climate_data$Season == "Summer", ]

#Visualize summer temperatures
ggplot(summer_data, aes(x = Month, y = Temperature, group = 1)) +
  geom_line(color = "green", size = 1) +
  geom_point(color = "darkgreen", size = 2) +
  labs(
    title = "Summer Monthly Temperatures",
    x = "Month",
    y = "Temperature (°C)"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1))

```

